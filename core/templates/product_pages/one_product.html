{% extends 'base_templates.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}PrintoPlace - {{ product.name }}{% endblock %}

{% block content %}
<!-- Settings product -->
<div class="bg-light py-5">
	<div class="container">
		<form method="post" enctype="multipart/form-data">
			{% csrf_token %}
			<input type="hidden" name="next" value="">
			<div class="row">
				<div class="col-12 col-md-8">
					<div id="div-design-1" style="display: block;">
						<div class="mx-auto" id="design-1" style="height: 355px; width: 252px;">
							<div class="mt-5" id="load_file-1" style="
									height: 355px;
									width: 252px;
									background-image: url(/static/image/cal-2.svg);
									background-repeat: no-repeat;">
								<div class="design bg-white" style="height: 355px;"></div>
							</div>
						</div>

						<div class="d-flex justify-content-center p-3 mt-3">
							<button type="button" class="btn btn-outline-secondary rounded-circle rotate-btn" disabled><i class="fas fa-angle-left"></i></button>
							<p class="text-secondary my-auto mx-3">Обложка</p>
							<button type="button" class="btn btn-outline-secondary rounded-circle rotate-btn" onclick="set_design_page(2, 1)">
								<i class="fas fa-angle-right"></i>
							</button>
						</div>

						<div class="bg-white rounded p-3 mt-3">
							<div class="custom-file">
								<input type="file" name="design" class="custom-file-input" onchange="handle_files(this.files, 1)" required>
								<label class="custom-file-label" id="label-1" data-browse="Загрузить">Загрузить оформление</label>
							</div>
							<div class="pt-2">
								<a class="text-secondary" href="https://yadi.sk/d/0csN12NBusKSTA?w=1"><i class="fas fa-external-link-alt"></i> Шаблоны</a>
							</div>
						</div>
					</div>

					<div id="div-design-2" style="display: none;">
						<div class="mx-auto" id="design-2" style="height: 355px; width: 252px;">
							<div class="mt-5" id="load_file-2" style="
									height: 355px;
									width: 252px;
									background-image: url(/static/image/cal-2.svg);
									background-repeat: no-repeat;">
								<div class="design bg-white" style="height: 355px;"></div>
							</div>
						</div>

						<div class="d-flex justify-content-center p-3 mt-3">
							<button type="button" class="btn btn-outline-secondary rounded-circle rotate-btn" onclick="set_design_page(1, 2)">
								<i class="fas fa-angle-left"></i>
							</button>
							<p class="text-secondary my-auto mx-3">1 стр</p>
							<button type="button" class="btn btn-outline-secondary rounded-circle rotate-btn" onclick="set_design_page(3, 2)">
								<i class="fas fa-angle-right"></i>
							</button>
						</div>

						<div class="bg-white rounded p-3 mt-3">
							<div class="custom-file">
								<input type="file" name="design" class="custom-file-input" onchange="handle_files(this.files, 2)">
								<label class="custom-file-label" id="label-2" data-browse="Загрузить">Загрузить оформление</label>
							</div>
							<div class="pt-2">
								<a class="text-secondary" href="https://yadi.sk/d/0csN12NBusKSTA?w=1"><i class="fas fa-external-link-alt"></i> Шаблоны</a>
							</div>
						</div>
					</div>

					<div id="div-design-3" style="display: none;">
						<div class="mx-auto" id="design-3" style="height: 355px; width: 252px;">
							<div class="mt-5" id="load_file-3" style="
									height: 355px;
									width: 252px;
									background-image: url(/static/image/cal-2.svg);
									background-repeat: no-repeat;">
								<div class="design bg-white" style="height: 355px;"></div>
							</div>
						</div>

						<div class="d-flex justify-content-center p-3 mt-3">
							<button type="button" class="btn btn-outline-secondary rounded-circle rotate-btn" onclick="set_design_page(2, 3)">
								<i class="fas fa-angle-left"></i>
							</button>
							<p class="text-secondary my-auto mx-3">2 стр</p>
							<button type="button" class="btn btn-outline-secondary rounded-circle rotate-btn" onclick="set_design_page(4, 3)">
								<i class="fas fa-angle-right"></i>
							</button>
						</div>

						<div class="bg-white rounded p-3 mt-3">
							<div class="custom-file">
								<input type="file" name="design" class="custom-file-input" onchange="handle_files(this.files, 3)">
								<label class="custom-file-label" id="label-3" data-browse="Загрузить">Загрузить оформление</label>
							</div>
							<div class="pt-2">
								<a class="text-secondary" href="https://yadi.sk/d/0csN12NBusKSTA?w=1"><i class="fas fa-external-link-alt"></i> Шаблоны</a>
							</div>
						</div>
					</div>

					<div id="div-design-4" style="display: none;">
						<div class="mx-auto" id="design-4" style="height: 355px; width: 252px;">
							<div class="mt-5" id="load_file-4" style="
									height: 355px;
									width: 252px;
									background-image: url(/static/image/cal-2.svg);
									background-repeat: no-repeat;">
								<div class="design bg-white" style="height: 355px;"></div>
							</div>
						</div>

						<div class="d-flex justify-content-center p-3 mt-3">
							<button type="button" class="btn btn-outline-secondary rounded-circle rotate-btn" onclick="set_design_page(3, 4)">
								<i class="fas fa-angle-left"></i>
							</button>
							<p class="text-secondary my-auto mx-3">3 стр</p>
							<button type="button" class="btn btn-outline-secondary rounded-circle rotate-btn" disabled><i class="fas fa-angle-right"></i></button>
						</div>

						<div class="bg-white rounded p-3 mt-3">
							<div class="custom-file">
								<input type="file" name="design" class="custom-file-input" onchange="handle_files(this.files, 4)">
								<label class="custom-file-label" id="label-4" data-browse="Загрузить">Загрузить оформление</label>
							</div>
							<div class="pt-2">
								<a class="text-secondary" href="https://yadi.sk/d/0csN12NBusKSTA?w=1"><i class="fas fa-external-link-alt"></i> Шаблоны</a>
							</div>
						</div>
					</div>
				</div>

				<div class="col-12 col-md-4 mt-3 mt-md-0">
					<div class="bg-white rounded text-secondary p-3">
						<div class="text-center"><h4>{{ product.name }}</h4></div>
						<div class="text-right display-4 py-3">{{ product.price }}р</div>
						<div class="row mt-3">
							{% for char in characteristic_list %}
							<div class="col-4 btn-group dropleft mb-3" >
								<a class="text-secondary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{ char.0 }}</a>
								<div class="dropdown-menu p-4 text-muted" style="width: 600px;">
									<h5>{{ char.0 }}</h5>
									<p>У вас есть выбор - из 25 фиксированных форматов для Flyer plano. Или можете распланировать размер как хотите в свободном формате.</p>

									<p>Фиксированные форматы:</p>
									<p>DIN A3 = 297 x 420 мм и 420 x 297 мм</p>
									<p>DIN A4 = 210 x 297 мм и 297 x 210 мм</p>
									<p>DIN A5 = 148 x 210 мм и 210 x 148 мм</p>
									<p>DIN A6 = 105 x 148 мм и 148 x 105 мм</p>
									<p>DIN A7 = 74 x 105 мм и 105 x 74 мм</p>
									<p>DIN A8 = 52 x 74 мм и 74 x 52 мм</p>
									<p>длина DIN 99 = 99 x 210 и 210 x 99 мм</p>
									<p>длина DIN 100 = 100 x 210 и 210 x 100 мм</p>
									<p>DIN длинный 105 = 105 x 210 мм и 210 x 105 мм</p>
									<p>1/2 портретная A4 = 105 x 297 мм</p>

									<p>Квадрат : 210 x 210 мм, 148 x 148 мм,
									120 x 120 мм, 105 x 105 мм, 100 x 100 мм</p>

									<p>Размеры формата относятся к окончательному формату.</p>

									<p>Что касается наших бесплатных форматов, мы хотели бы отметить,
										что по причинам, связанным с производством, не все комбинации длины и высоты могут быть реализованы.
										Если ваш свободный формат содержит такую ​​комбинацию, наш мастер подсказок поможет вам,
										и вы сможете изменить значения там.</p>

									<p>Также обратите внимание на допуск под обрез , который необходимо добавить к размерам.</p>
								</div>
							</div>
							<div class="col-8">
								<select name="{{ char.0 }}" class="select form-control form-control-sm mt-2 mt-md-0">
								{% for char_value_list in char.1.items %}
									{% for char_value in char_value_list.1 %}
									<option value="{{ char_value }}">{{ char_value }}</option>
									{% endfor %}
								{% endfor %}
								</select>
							</div>
							{% endfor %}
						</div>

						<div class="form-group mt-3">
							<label for="id_count" class=" requiredField">Количество</label>
							<div class="row">
								<div id="div_id_count" class="col-6 mb-3">
									<input type="number" name="count" min="1" class="numberinput form-control" placeholder="Количество" value="1" required id="id_count">
								</div>

								<div class="col-6 pl-0">
									<button class="btn btn-primary w-100" type="submit">В корзину</button>
								</div>
							</div>
						</div>
						<div class="row mt-3">
							<h5 class="col-6">ИТОГО:</h5>
							<h5 class="col-6 text-right">924p</h5>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>

<!-- Product description -->
<div class="pt-5">
	<div class="container">
		<h3 class="text-secondary mb-3">Описание продукта</h3>
		<div class="pb-5 text-secondary text-center">
			<p>{{ product.description }}</p>
		</div>
	</div>
</div>

<!-- More product -->
<div class="bg-light">
	<div class="container py-4">
		<h3 class="text-secondary mb-4">Другие продукты</h3>
		<div class="row text-center">
			{% for one_prod in products %}
			{% url 'one_product' one_prod.slug as product_path %}
			<div class="col-6 col-md-3 col-lg-2">
				<a href="{{ product_path }}" class="text-secondary display-3 px-auto">
					<img src="{% get_static_prefix %}image/icon/{{ one_prod.slug }}.svg" width="130px" style="filter: brightness(.95); ">
				</a>
				<h5 class="text-secondary"><small>{{ one_prod.name }}</small></h5>
			</div>
			{% empty %}
			<h3 class="text-center text-secondary my-4">Ничего не найдено!</h3>
			{% endfor %}
			<div class="col-6 col-md-3 col-lg-2">
				<a href="{% url 'products' %}" class="text-secondary display-3 px-auto">
					<img src="{% get_static_prefix %}image/more_icon.svg" width="130px" style="filter: brightness(.95); ">
				</a>
				<h5 class="text-primary"><small>Больше товаров</small></h5>
			</div>
		</div>
	</div>
</div>

<!-- Product gallery -->
<!--<div class="bg-light py-5">-->
<!--	<div class="container">-->
<!--		<h3 class="text-secondary mb-5">Галерея продукта</h3>-->
<!--		<div class="row">-->

<!--			{% load static %}-->
<!--			<div class="col-12 col-md-4 pb-5">-->
<!--				<div class="card">-->
<!--					<img src="{% static 'image/Galereya_1.png' %}" class="card-img-top">-->
<!--					<div class="card-body">-->
<!--						<h5 class="card-title">Card title</h5>-->
<!--						<p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>-->
<!--					</div>-->
<!--				</div>-->
<!--			</div>-->

<!--			<div class="col-12 col-md-4 pb-5">-->
<!--				<div class="card">-->
<!--					<img src="{% static 'image/Galereya_1.png' %}" class="card-img-top">-->
<!--					<div class="card-body">-->
<!--						<h5 class="card-title">Card title</h5>-->
<!--						<p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>-->
<!--					</div>-->
<!--				</div>-->
<!--			</div>-->

<!--			<div class="col-12 col-md-4 pb-5">-->
<!--				<div class="card">-->
<!--					<img src="{% static 'image/Galereya_1.png' %}" class="card-img-top">-->
<!--					<div class="card-body">-->
<!--						<h5 class="card-title">Card title</h5>-->
<!--						<p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>-->
<!--					</div>-->
<!--				</div>-->
<!--			</div>-->
<!--		</div>-->
<!--	</div>-->
<!--</div>-->

{% include 'includes/contact_info.html' %}

{% include 'includes/delivery_payment.html' %}

{% include 'includes/footer.html' %}

<!-- Successful model -->
<div class="modal fade show" id="successful_model"
		 style="display: none; background-color: rgba(0, 0, 0, 0.5);">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
				<h3 class="text-center text-primary my-3"><i class="fas fa-shopping-cart"></i></h3>
				<h4 class="text-center mb-5">Товар добавлен в корзину!</h4>
				<div class="d-flex px-3">
					<a href="/shopping_cart/" class="btn btn-primary">Перейти в корзину</a>
					<a href="/products/" class="btn btn-primary ml-auto">Продолжить покупки</a>
				</div>
      </div>
    </div>
  </div>
</div>
{% endblock %}